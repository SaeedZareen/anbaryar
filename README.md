# anbaryar

پروژه «انباریار» یک سامانه تحت وب برای مدیریت حرفه‌ای انبارهای کارخانه است. این نسخه‌ی اولیه شامل هسته‌ی پلاگین‌محور، نصب‌کننده‌ی هوشمند و ماژول انبار محصولات مطابق با نیازهای شرکت رنگ و رزین است.

## امکانات کلیدی

- **نصب‌کننده‌ی تحت وب**: راه‌اندازی پایگاه‌داده‌ی MySQL، ساخت کاربر مدیر و ایجاد فایل `config.php` تنها با چند کلیک.
- **ساختار پلاگین‌محور**: افزونه‌ها در پوشه‌ی `plugins/` نگهداری می‌شوند و به‌صورت خودکار توسط سامانه بارگذاری می‌گردند.
- **ماژول انبار محصولات**:
  - ثبت ورود کالا با فیلدهای تخصصی (کد کالا، برند، نوع ظرف، بسته‌بندی، تعداد، وزن، تاریخ‌های جلالی و ...).
  - ثبت خروج کالا به‌همراه کنترل موجودی و نگهداری توضیحات.
  - ثبت لاگ کامل عملیات ورود/خروج به‌صورت زمان‌دار.
  - جستجو و فیلتر موجودی بر اساس برند، ظرف، دسته‌بندی، وضعیت و عبارت کلیدی.
  - تبدیل خودکار تاریخ جلالی ↔︎ میلادی بدون نیاز به کتابخانه‌ی خارجی.
- **مدیریت کاربران و نقش‌ها**: مدیر سامانه و انباردارها با نقش‌های مجزا و محدودیت دسترسی به انبار مربوطه.

## ساختار پوشه‌ها

```
index.php            # داشبورد مرکزی و بارگذاری افزونه‌ها
installer.php        # نصب‌کننده‌ی گام‌به‌گام
config.example.php   # نمونه‌ی پیکربندی
schema.sql           # اسکریپت ساخت جداول
core/                # هسته (اتصال DB، احراز هویت، کمکی، مدیریت پلاگین)
plugins/products/    # افزونه‌ی انبار محصولات
uploads/             # محل بارگذاری فایل‌ها (دارای .gitkeep)
```

## راهنمای نصب

1. مخزن را روی هاست دارای PHP 8.1 (یا بالاتر) و MySQL آپلود کنید.
2. آدرس `installer.php` را در مرورگر باز کنید و اطلاعات پایگاه داده و مدیر سیستم را وارد نمایید.
3. پس از اتمام نصب، به `index.php` منتقل شده و می‌توانید با نام کاربری/رمز عبور تعریف‌شده وارد شوید.
4. از منوی کناری وارد افزونه‌ی «انبار محصولات» شوید و موجودی‌ها را مدیریت کنید.

> **نکته امنیتی**: اطمینان حاصل کنید که دامنه یا زیر دامنه‌ی خصوصی استفاده می‌کنید تا سامانه در موتورهای جستجو نمایه نشود (فعال‌سازی `noindex` در تنظیمات هاست توصیه می‌شود).

## توسعه افزونه‌های جدید

- برای افزودن ماژول تازه، یک پوشه با نام دلخواه در `plugins/` ایجاد کرده و فایل `plugin.php` را برگرداننده‌ی شیء مشتق‌شده از `Plugin` بسازید.
- متد `getMenu()` مسیرهای نمایش در داشبورد را تعیین می‌کند و `handle()` منطق صفحات داخل افزونه را بر می‌گرداند.
- در صورت نیاز به جداول جدید، اسکریپت SQL را در نصب‌کننده یا مهاجرت‌های بعدی اضافه کنید.

این نسخه‌ی پایه به‌صورت امن و قابل توسعه پیاده‌سازی شده است تا گام نخست دیجیتال‌سازی انبارهای کارخانه باشد.
